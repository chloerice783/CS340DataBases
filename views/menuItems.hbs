<!DOCTYPE html>
<html lang="en">
<head>
<title>Manage Menu Items</title>
</head>

<link rel="stylesheet" href="index.css">

    <body>
        <header>
            <h1>Manage Menu Items</h1>
            {{> navbar}}
        </header>

        <div class="table-buttons">
            <button type='button' class="table_button" id="add_button">Add menu item</button>
        </div>

        </div>
            <table class="customer-table">
            <tr>
                <th>Menu Item ID</th>
                <th>Name</th>
                <th>Price</th>
                <th>Category</th>
                <th>Actions</th>
            </tr>
            {{#each menuItems}}
            <tr>
                <td>{{this.menuItemId}}</td>
                <td>{{this.name}}</td>
                <td>{{this.price}}</td>
                <td>{{this.category}}</td>
                <td>
                    <div class="update-delete-section">
                        <!-- Update Form -->
                        <form action="/menuItems/update/{{this.menuItemId}}" method="POST" >
                            <span>Item Name: </span>
                            <input type="text" name="name" value="{{this.name}}" required>
                            <span>Price: </span>
                            <input type="number" name="price" value="{{this.price}}" required>
                            <label for='category'>Category:</label>
                            <select id='category' name='category' required>
                                <option value='Food'>Food</option>
                                <option value='Beverage'>Beverage</option>
                                <option value='Misc'>Misc</option>
                            </select>
                                    
                            <button type="submit" class="table_button" >Update</button>
                        </form>
                        
                        <!-- Delete Button -->
                        <form action="/menuItems/delete/{{this.menuItemId}}" method="POST">
                            <button type="submit" class="table_button" >Delete</button>
                        </form>
                    </div>
                </td>
            </tr>
            {{/each}}
        </table>

    <div class="entity-modal-overlay hidden" id="create-overlay">
        <div class="entity-modal" id="create_modal">
            <button type="button" id="modal-close" class="modal-hide-button">&times;</button>
            <h3>Create a new menu item</h3>
            <form action="/menuItems/add" method="POST" class="entity-attribute-selection">
                <div class="attribute-field">
                    <label for='name'>Menu Item Name:</label>
                    <input type='text' id='name' name='name' value="{{this.name}}" required>
                </div>
                <div class="attribute-field">
                    <label for='price'>Price:</label>
                    <input type='number' step="0.01" id='price' name='price' value="{{this.price}}" required>
                </div>
                <div class="attribute-field">
                    <label for='category'>Category:</label>
                    <select id='category' name='category' required>
                        <option value='Food'>Food</option>
                        <option value='Beverage'>Beverage</option>
                        <option value='Misc'>Misc</option>
                    </select>
                </div>
                <button type='submit' class="submit_button">Add Menu Item</button>
            </form>
        </div>

    <div class="entity-modal-overlay hidden" id="update-overlay">
        <div class="entity-modal">
            <button type="button" id="modal-close" class="modal-hide-button">&times;</button>
            <h3>Update a menu item</h3>
            <form class="entity-attribute-selection">
                <div class="attribute-field">
                    <label for='menuItemId'>Menu item ID:</label>
                    <input type='number' id='menuItemId' name='menuItemId' required>
                </div>

                <form class="entity-attribute-selection">
                    <div class="attribute-field">
                        <label for='menuItemName'>Menu Item Name:</label>
                        <input type='text' id='menuItemName' name='menuItemName' required>
                    </div>
            
                    <div class="attribute-field">
                        <label for='price'>Price:</label>
                        <input type='number' step="0.01" id='price' name='price' required>
                    </div>
            
                    <div class="attribute-field">
                        <label for='category'>Category:</label>
                        <select id='category' name='category' required>
                            <option value='Food'>Food</option>
                            <option value='Beverage'>Beverage</option>
                            <option value='Misc'>Misc</option>
                        </select>
                    </div>
            
                <button type='submit' class="submit_button">Update menu item</button>
            </form>
        </div>
    </div>


    <div class="entity-modal-overlay hidden" id="delete-overlay">
        <div class="entity-modal">
            <button type="button" id="modal-close" class="modal-hide-button">&times;</button>
            <h3>Delete a menu item</h3>
            <form class="entity-attribute-selection">
                <div class="attribute-field">
                    <label for='menuItemId'>Menu item ID:</label>
                    <input type='number' id='menuItemId' name='menuItemId' required>
                </div>
            
                <button type='submit' class="submit_button">Delete Menu Item</button>
            </form>
        </div>
    </div>

        <script src="index.js"></script>
    </body>
</html>